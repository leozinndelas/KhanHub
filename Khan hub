-- Criação da Interface Gráfica
local ScreenGui = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local AutoFarmButton = Instance.new("TextButton")
local FruitCollectorButton = Instance.new("TextButton")

ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
ScreenGui.Name = "ScriptUI"

Frame.Parent = ScreenGui
Frame.BackgroundColor3 = Color3.new(0, 0, 0)
Frame.Size = UDim2.new(0, 200, 0, 150)
Frame.Position = UDim2.new(0.1, 0, 0.1, 0)
Frame.BorderSizePixel = 0

AutoFarmButton.Parent = Frame
AutoFarmButton.Size = UDim2.new(0, 180, 0, 40)
AutoFarmButton.Position = UDim2.new(0, 10, 0, 10)
AutoFarmButton.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2)
AutoFarmButton.TextColor3 = Color3.new(1, 1, 1)
AutoFarmButton.Text = "Toggle Auto-Farm"

FruitCollectorButton.Parent = Frame
FruitCollectorButton.Size = UDim2.new(0, 180, 0, 40)
FruitCollectorButton.Position = UDim2.new(0, 10, 0, 60)
FruitCollectorButton.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2)
FruitCollectorButton.TextColor3 = Color3.new(1, 1, 1)
FruitCollectorButton.Text = "Toggle Fruit Collector"

-- Configuração das Funções
local autoFarmActive = false
local fruitCollectorActive = false

local function toggleAutoFarm()
    autoFarmActive = not autoFarmActive
    if autoFarmActive then
        print("Auto-Farm ativado")
        spawn(autoFarm)
    else
        print("Auto-Farm desativado")
    end
end

local function toggleFruitCollector()
    fruitCollectorActive = not fruitCollectorActive
    if fruitCollectorActive then
        print("Fruit Collector ativado")
        spawn(fruitCollector)
    else
        print("Fruit Collector desativado")
    end
end

-- Conexão dos Botões
AutoFarmButton.MouseButton1Click:Connect(toggleAutoFarm)
FruitCollectorButton.MouseButton1Click:Connect(toggleFruitCollector)

-- Funções de Automação
local function autoFarm()
    while autoFarmActive do
        local player = game.Players.LocalPlayer
        local playerLevel = player.Level or 1
        local questName, questLocation = getQuestForLevel(playerLevel)
        teleportTo(questLocation)
        wait(2)
        local enemies = {}
        for _, enemy in pairs(enemies) do
            while enemy.Humanoid.Health > 0 do
                enemy.Humanoid:TakeDamage(10)
                wait(1)
            end
        end
        wait(5)
    end
end

local function fruitCollector()
    while fruitCollectorActive do
        local fruits = detectFruits()
        for _, fruit in pairs(fruits) do
            collectFruit(fruit)
        end
        wait(5)
    end
end

-- Funções Auxiliares
local function teleportTo(location)
    if game.Players.LocalPlayer.Character and game.Players.LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(location)
    end
end

local function detectFruits()
    local fruits = {}
    for _, item in pairs(game.Workspace:GetChildren()) do
        if item:IsA("Tool") and item:FindFirstChild("Handle") then
            if item.Name:lower():find("fruit") then
                table.insert(fruits, item)
            end
        end
    end
    return fruits
end

local function collectFruit(fruit)
    if fruit and fruit:FindFirstChild("Handle") then
        teleportTo(fruit.Handle.Position)
        wait(1)
        fireclickdetector(fruit.Handle:FindFirstChild("ClickDetector"))
    end
end

local function getQuestForLevel(playerLevel)
    if playerLevel < 50 then
        return "Bandits", Vector3.new(100, 10, 200)
    elseif playerLevel < 100 then
        return "Pirates", Vector3.new(300, 10, 400)
    else
        return "Boss", Vector3.new(500, 10, 600)
    end
end
